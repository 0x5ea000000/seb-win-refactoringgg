<html>
    <head>
        <meta charset="utf-8" />
        <link type="text/css" rel="stylesheet" href="https://source.zoom.us/1.9.1/css/bootstrap.css" />
        <link type="text/css" rel="stylesheet" href="https://source.zoom.us/1.9.1/css/react-select.css" />
    </head>
    <body>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/react.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/react-dom.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/redux.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/redux-thunk.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/jquery.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/lodash.min.js"></script>
        <script src="https://source.zoom.us/zoom-meeting-1.9.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9/crypto-js.min.js"></script>
        <script type="text/javascript">
            const API_KEY = "%%_API_KEY_%%";
            const API_SECRET = "%%_API_SECRET_%%";

            ZoomMtg.setZoomJSLib('https://source.zoom.us/1.9.1/lib', '/av');
            ZoomMtg.preLoadWasm();
            ZoomMtg.prepareJssdk();

            const config = {
                meetingNumber: "%%_MEETING_NUMBER_%%",
                leaveUrl: "doesnotexist",
                userName: '%%_USER_NAME_%%',
                role: 0
            };

            const signature = ZoomMtg.generateSignature({
                meetingNumber: config.meetingNumber,
                apiKey: API_KEY,
                apiSecret: API_SECRET,
                role: config.role,
                error: function (res) {
                    alert(`Failed to generate signature: ${res}`)
                }
            });

            ZoomMtg.init({
                leaveUrl: config.leaveUrl,
                showMeetingHeader: true,
                disableInvite: false,
                disableCallOut: false,
                disableRecord: false,
                disableJoinAudio: false,
                audioPanelAlwaysOpen: true,
                showPureSharingContent: false,
                isSupportAV: true,
                isSupportChat: false,
                isSupportQA: true,
                isSupportCC: true,
                screenShare: true,
                videoDrag: true,
                sharingMode: 'both',
                videoHeader: true,
                isLockBottom: true,
                isSupportNonverbal: true,
                isShowJoiningErrorDialog: true,
                inviteUrlFormat: '',
                loginWindow: {
                    width: 400,
                    height: 380
                },
                meetingInfo: [
                    'topic',
                    'host',
                    'mn',
                    'pwd',
                    'telPwd',
                    'invite',
                    'participant',
                    'dc'
                ],
                disableVoIP: false,
                disableReport: false,
                error: function (res) {
                    alert(`Failed to initialize meeting: ${res}`)
                },
                success: function () {
                    ZoomMtg.join({
                        signature: signature,
                        apiKey: API_KEY,
                        meetingNumber: config.meetingNumber,
                        userName: config.userName,
                        error: function (res) {
                            alert(`Failed to join meeting: ${res}`)
                        }
                    })
                }
            })
        </script>
    </body>
</html>