<html>
    <head>
        <meta charset="utf-8" />
        <link type="text/css" rel="stylesheet" href="https://source.zoom.us/1.9.1/css/bootstrap.css" />
        <link type="text/css" rel="stylesheet" href="https://source.zoom.us/1.9.1/css/react-select.css" />
    </head>
    <body>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/react.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/react-dom.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/redux.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/redux-thunk.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/jquery.min.js"></script>
        <script src="https://source.zoom.us/1.9.1/lib/vendor/lodash.min.js"></script>
        <script src="https://source.zoom.us/zoom-meeting-1.9.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9/crypto-js.min.js"></script>
        <script type="text/javascript">
            const API_KEY = '%%_API_KEY_%%';
            const API_SECRET = '%%_API_SECRET_%%';
            const ATTENDEE = 0;

            var configuration = {
                leaveUrl: 'doesnotexist',
                meetingNumber: '%%_MEETING_NUMBER_%%',
                passWord: '%%_PASSWORD_%%',
                role: ATTENDEE,
                userName: '%%_USER_NAME_%%'
            };
            var signature = '%%_SIGNATURE_%%';

            if (!ZoomMtg.checkSystemRequirements()) {
                alert('This system does not meet the necessary requirements for Zoom!');
            }

            ZoomMtg.setZoomJSLib('https://source.zoom.us/1.9.1/lib', '/av');
            ZoomMtg.preLoadWasm();
            ZoomMtg.prepareJssdk();

            if (!signature) {
                signature = ZoomMtg.generateSignature({
                    meetingNumber: configuration.meetingNumber,
                    apiKey: API_KEY,
                    apiSecret: API_SECRET,
                    role: configuration.role,
                    error: function (res) {
                        alert(`Failed to generate signature: ${JSON.stringify(res)}`)
                    }
                });
            }

            ZoomMtg.init({
                leaveUrl: configuration.leaveUrl,
                showMeetingHeader: true,
                disableInvite: false,
                disableCallOut: false,
                disableRecord: false,
                disableJoinAudio: false,
                audioPanelAlwaysOpen: true,
                showPureSharingContent: false,
                isSupportAV: true,
                isSupportChat: true,
                isSupportQA: true,
                isSupportCC: true,
                screenShare: true,
                videoDrag: true,
                sharingMode: 'both',
                videoHeader: true,
                isLockBottom: true,
                isSupportNonverbal: true,
                isShowJoiningErrorDialog: true,
                inviteUrlFormat: '',
                meetingInfo: [
                    'topic',
                    'host',
                    'mn',
                    'pwd',
                    'telPwd',
                    'invite',
                    'participant',
                    'dc'
                ],
                disableVoIP: false,
                disableReport: false,
                error: function (res) {
                    alert(`Failed to initialize meeting: ${JSON.stringify(res)}`)
                },
                success: function () {
                    ZoomMtg.join({
                        apiKey: API_KEY,
                        meetingNumber: configuration.meetingNumber,
                        passWord: configuration.passWord,
                        signature: signature,
                        userName: configuration.userName,
                        error: function (res) {
                            alert(`Failed to join meeting: ${JSON.stringify(res)}`)
                        }
                    })
                }
            })
        </script>
    </body>
</html>